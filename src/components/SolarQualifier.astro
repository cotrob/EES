---
const questions = [
  {
    id: "property_type",
    question: "What type of property are you looking to power?",
    options: [
      { label: "My Business", value: "business", icon: "building" },
      { label: "My Home", value: "home", icon: "home" },
      { label: "Both", value: "both", icon: "both" },
    ],
  },
  {
    id: "monthly_bill",
    question: "What's your average monthly electricity bill?",
    options: [
      { label: "Not Sure Yet", value: "not_sure_yet" },
      { label: "Under $300", value: "under_300" },
      { label: "$300 - $800", value: "300_800" },
      { label: "$800 - $2,000", value: "800_2000" },
      { label: "Over $2,000", value: "over_2000" },
    ],
  },
  {
    id: "ownership",
    question: "Do you own the property?",
    options: [
      { label: "Yes, I own it", value: "own" },
      { label: "I'm renting", value: "rent" },
      { label: "Planning to purchase", value: "planning" },
    ],
  },
  {
    id: "goal",
    question: "What's your primary goal with solar?",
    options: [
      { label: "Reduce electricity costs", value: "costs" },
      { label: "Energy independence", value: "independence" },
      { label: "Environmental impact", value: "environmental" },
      { label: "Long-term investment", value: "investment" },
      { label: "Other", value: "other" },
    ],
  },
  {
    id: "timeline",
    question: "When are you looking to install?",
    options: [
      { label: "As soon as possible", value: "asap" },
      { label: "1-3 months", value: "1_3_months" },
      { label: "3-6 months", value: "3_6_months" },
      { label: "Just researching", value: "researching" },
    ],
  },
];
---

<section class="qualifier" id="solar-qualifier" data-total={questions.length}>
  <div class="qualifier-inner">
    <div class="qualifier-header">
      <p class="qualifier-label">Solar Assessment</p>
      <h2>Begin my free <em>quote</em></h2>
      <p class="qualifier-desc">Answer a few quick questions to see how much you could save with solar energy</p>
    </div>

    <div class="qualifier-progress" id="qualifier-progress">
      <div class="progress-info">
        <span class="progress-step" id="progress-step">Question 1 of {questions.length}</span>
        <span class="progress-pct" id="progress-pct">20%</span>
      </div>
      <div class="progress-track">
        <div class="progress-fill" id="progress-fill" style="width: 20%"></div>
      </div>
    </div>

    <div class="qualifier-body">
      {questions.map((q, i) => (
        <div class:list={['qualifier-step', { active: i === 0 }]} data-step={i} style={i === 0 ? '' : 'display:none'}>
          <h3 class="question-text">{q.question}</h3>
          <div class="question-options">
            {q.options.map((opt) => (
              <button class="option-btn" data-value={opt.value} type="button">
                {'icon' in opt && opt.icon === "building" && (
                  <svg class="option-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21" />
                  </svg>
                )}
                {'icon' in opt && opt.icon === "home" && (
                  <svg class="option-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                  </svg>
                )}
                {'icon' in opt && opt.icon === "both" && (
                  <svg class="option-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z" />
                  </svg>
                )}
                <span class="option-label">{opt.label}</span>
                <svg class="option-arrow" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
                </svg>
              </button>
            ))}
          </div>
          {i > 0 && (
            <button class="back-btn" type="button">
              <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="16" height="16">
                <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
              </svg>
              Back
            </button>
          )}
        </div>
      ))}

      <!-- Great news screen -->
      <div class="qualifier-complete" id="qualifier-complete">
        <div class="complete-icon">
          <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="40" height="40">
            <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
          </svg>
        </div>
        <h3>Great news!</h3>
        <p>Based on your answers, solar could be a great fit for you. Let's get your details so we can discuss your options.</p>
        <div class="complete-actions">
          <button class="btn btn-primary" id="complete-continue" type="button">
            Yes, I'd like a free quote
            <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="16" height="16">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
            </svg>
          </button>
          <button class="btn-reset" id="qualifier-reset" type="button">Start Over</button>
        </div>
      </div>

      <!-- Contact form steps -->
      <div class="form-step" id="form-step-name" style="display:none">
        <h3 class="question-text">What's your name?</h3>
        <div class="form-field">
          <input type="text" id="form-name" class="form-input" placeholder="Your full name" autocomplete="name" />
        </div>
        <button class="form-next-btn" id="name-next" type="button">
          Next
          <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="16" height="16">
            <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
          </svg>
        </button>
        <button class="back-btn form-back-btn" data-back="complete" type="button">
          <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="16" height="16">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
          </svg>
          Back
        </button>
      </div>

      <div class="form-step" id="form-step-phone" style="display:none">
        <h3 class="question-text">What's your phone number?</h3>
        <div class="form-field">
          <input type="tel" id="form-phone" class="form-input" placeholder="04XX XXX XXX" autocomplete="tel" />
        </div>
        <button class="form-next-btn" id="phone-next" type="button">
          Next
          <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="16" height="16">
            <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
          </svg>
        </button>
        <button class="back-btn form-back-btn" data-back="name" type="button">
          <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="16" height="16">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
          </svg>
          Back
        </button>
      </div>

      <div class="form-step" id="form-step-email" style="display:none">
        <h3 class="question-text">What's your email address?</h3>
        <div class="form-field">
          <input type="email" id="form-email" class="form-input" placeholder="you@example.com" autocomplete="email" />
        </div>
        <button class="form-next-btn" id="email-next" type="button">
          Next
          <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="16" height="16">
            <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
          </svg>
        </button>
        <button class="back-btn form-back-btn" data-back="phone" type="button">
          <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="16" height="16">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
          </svg>
          Back
        </button>
      </div>

      <div class="form-step" id="form-step-message" style="display:none">
        <h3 class="question-text">Any last things to add?</h3>
        <button class="form-submit-btn" id="form-submit" type="button">
          Send Enquiry
          <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5" width="20" height="20">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5" />
          </svg>
        </button>
        <div class="form-field" style="margin-top: 1.25rem;">
          <textarea id="form-message" class="form-input form-textarea" placeholder="Optional â€” tell us about your property, energy usage, or any questions you have..." rows="4"></textarea>
        </div>
        <button class="back-btn form-back-btn" data-back="email" type="button">
          <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="16" height="16">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
          </svg>
          Back
        </button>
      </div>

      <!-- Thank you screen -->
      <div class="qualifier-thankyou" id="qualifier-thankyou" style="display:none">
        <div class="complete-icon thankyou-icon">
          <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="40" height="40">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" />
          </svg>
        </div>
        <h3>Thank you!</h3>
        <p>We've received your enquiry and will be in touch within 24 hours. In the meantime, explore what we're working on:</p>
        <div class="thankyou-links">
          <a href="/laboratory/facility" class="thankyou-link">
            <span class="thankyou-link-label">Research Facility</span>
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
          </a>
          <a href="/laboratory/simulation-room" class="thankyou-link">
            <span class="thankyou-link-label">Simulation Room</span>
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
          </a>
          <a href="/laboratory/products" class="thankyou-link">
            <span class="thankyou-link-label">Products</span>
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
          </a>
          <a href="/laboratory/hydronic-ceiling-panels" class="thankyou-link">
            <span class="thankyou-link-label">Hydronic Ceiling Panels</span>
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
          </a>
          <a href="/laboratory/environmental-service-pod" class="thankyou-link">
            <span class="thankyou-link-label">Environmental Service Pod</span>
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
          </a>
        </div>
        <button class="btn-reset" id="thankyou-reset" type="button" style="margin-top: 1.5rem;">Start Over</button>
      </div>
    </div>
  </div>
</section>

<script>
  const section = document.getElementById('solar-qualifier') as HTMLElement;
  const total = parseInt(section.dataset.total || '5');
  const steps = section.querySelectorAll<HTMLElement>('.qualifier-step');
  const completeEl = document.getElementById('qualifier-complete') as HTMLElement;
  const progressEl = document.getElementById('qualifier-progress') as HTMLElement;
  const progressStep = document.getElementById('progress-step') as HTMLElement;
  const progressPct = document.getElementById('progress-pct') as HTMLElement;
  const progressFill = document.getElementById('progress-fill') as HTMLElement;
  const resetBtn = document.getElementById('qualifier-reset') as HTMLElement;
  const continueBtn = document.getElementById('complete-continue') as HTMLElement;
  const thankyouEl = document.getElementById('qualifier-thankyou') as HTMLElement;
  const thankyouReset = document.getElementById('thankyou-reset') as HTMLElement;

  // Form step elements
  const formSteps: Record<string, HTMLElement> = {
    name: document.getElementById('form-step-name') as HTMLElement,
    phone: document.getElementById('form-step-phone') as HTMLElement,
    email: document.getElementById('form-step-email') as HTMLElement,
    message: document.getElementById('form-step-message') as HTMLElement,
  };

  let currentStep = 0;

  function updateProgress() {
    const pct = Math.round(((currentStep + 1) / total) * 100);
    progressStep.textContent = `Question ${currentStep + 1} of ${total}`;
    progressPct.textContent = `${pct}%`;
    progressFill.style.width = `${pct}%`;
  }

  function hideAllFormSteps() {
    completeEl.style.display = 'none';
    completeEl.classList.remove('fade-in');
    thankyouEl.style.display = 'none';
    Object.values(formSteps).forEach(el => {
      el.style.display = 'none';
      el.classList.remove('fade-in');
    });
  }

  function showFormStep(id: string) {
    hideAllFormSteps();
    const el = id === 'complete' ? completeEl : id === 'thankyou' ? thankyouEl : formSteps[id];
    if (el) {
      el.style.display = 'block';
      el.classList.add('fade-in');
      const input = el.querySelector('input, textarea') as HTMLElement | null;
      if (input) setTimeout(() => input.focus(), 350);
    }
  }

  function showStep(index: number, direction: 'forward' | 'back') {
    const current = steps[currentStep];
    const animOut = direction === 'forward' ? 'slide-out-left' : 'slide-out-right';
    const animIn = direction === 'forward' ? 'slide-in-right' : 'slide-in-left';

    current.classList.add(animOut);

    setTimeout(() => {
      current.classList.remove('active', animOut);
      current.style.display = 'none';
      currentStep = index;

      if (currentStep >= total) {
        completeEl.style.display = 'block';
        completeEl.classList.add('fade-in');
        progressEl.classList.add('hidden');
      } else {
        const next = steps[currentStep];
        next.style.display = 'block';
        next.classList.add('active', animIn);
        updateProgress();
        setTimeout(() => next.classList.remove(animIn), 300);
      }
    }, 300);
  }

  // Option buttons
  steps.forEach((step) => {
    step.querySelectorAll('.option-btn').forEach((btn) => {
      btn.addEventListener('click', () => {
        showStep(currentStep + 1, 'forward');
      });
    });

    const backBtn = step.querySelector('.back-btn');
    if (backBtn) {
      backBtn.addEventListener('click', () => {
        showStep(currentStep - 1, 'back');
      });
    }
  });

  // Continue from "Great news!" to name step
  continueBtn.addEventListener('click', () => showFormStep('name'));

  // Form next buttons
  const formOrder = ['name', 'phone', 'email', 'message'];

  document.getElementById('name-next')?.addEventListener('click', () => {
    const input = document.getElementById('form-name') as HTMLInputElement;
    if (!input.value.trim()) { input.focus(); return; }
    showFormStep('phone');
  });

  document.getElementById('phone-next')?.addEventListener('click', () => {
    const input = document.getElementById('form-phone') as HTMLInputElement;
    if (!input.value.trim()) { input.focus(); return; }
    showFormStep('email');
  });

  document.getElementById('email-next')?.addEventListener('click', () => {
    const input = document.getElementById('form-email') as HTMLInputElement;
    if (!input.value.trim()) { input.focus(); return; }
    showFormStep('message');
  });

  // Enter key on inputs advances to next step
  document.getElementById('form-name')?.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') document.getElementById('name-next')?.click();
  });
  document.getElementById('form-phone')?.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') document.getElementById('phone-next')?.click();
  });
  document.getElementById('form-email')?.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') document.getElementById('email-next')?.click();
  });

  // Back buttons in form steps
  section.querySelectorAll<HTMLButtonElement>('.form-back-btn').forEach((btn) => {
    btn.addEventListener('click', () => {
      const target = btn.dataset.back || 'complete';
      showFormStep(target);
    });
  });

  // Submit
  document.getElementById('form-submit')?.addEventListener('click', () => {
    showFormStep('thankyou');
  });

  // Reset functions
  function fullReset() {
    hideAllFormSteps();
    progressEl.classList.remove('hidden');
    steps.forEach((s) => { s.style.display = 'none'; s.classList.remove('active'); });
    currentStep = 0;
    steps[0].style.display = 'block';
    steps[0].classList.add('active');
    updateProgress();
    // Clear form fields
    (document.getElementById('form-name') as HTMLInputElement).value = '';
    (document.getElementById('form-phone') as HTMLInputElement).value = '';
    (document.getElementById('form-email') as HTMLInputElement).value = '';
    (document.getElementById('form-message') as HTMLTextAreaElement).value = '';
  }

  resetBtn.addEventListener('click', fullReset);
  thankyouReset.addEventListener('click', fullReset);
</script>

<style>
  .qualifier {
    padding: 6rem 1.5rem;
    background: #f8f9fa;
  }

  .qualifier-inner {
    max-width: 640px;
    margin: 0 auto;
  }

  .qualifier-header {
    text-align: center;
    margin-bottom: 3rem;
  }

  .qualifier-label {
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #2061B7;
    font-weight: 600;
    margin-bottom: 0.75rem;
  }

  .qualifier-header h2 {
    font-size: 3.75rem;
    font-weight: 700;
    color: #0E2B47;
    margin-bottom: 0.75rem;
  }

  .qualifier-header h2 em {
    font-style: italic;
    font-weight: 400;
  }

  .qualifier-desc {
    font-size: 0.95rem;
    color: #666;
    max-width: 420px;
    margin: 0 auto;
  }

  .qualifier-progress {
    margin-bottom: 2.5rem;
    transition: opacity 0.3s ease;
  }

  .qualifier-progress.hidden {
    opacity: 0;
    pointer-events: none;
  }

  .progress-info {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.5rem;
  }

  .progress-step,
  .progress-pct {
    font-size: 0.75rem;
    color: #999;
    font-weight: 500;
  }

  .progress-track {
    height: 8px;
    background: #e5e7eb;
    border-radius: 9999px;
    overflow: hidden;
  }

  .progress-fill {
    height: 100%;
    background: #2061B7;
    border-radius: 9999px;
    transition: width 0.5s ease;
  }

  .qualifier-body {
    min-height: 320px;
    position: relative;
  }

  .qualifier-step {
    display: none;
    transition: opacity 0.3s ease, transform 0.3s ease;
  }

  .qualifier-step.active {
    display: block;
  }

  .qualifier-step.slide-out-left {
    opacity: 0;
    transform: translateX(-2rem);
  }

  .qualifier-step.slide-out-right {
    opacity: 0;
    transform: translateX(2rem);
  }

  .qualifier-step.slide-in-right {
    animation: slideInRight 0.3s ease forwards;
  }

  .qualifier-step.slide-in-left {
    animation: slideInLeft 0.3s ease forwards;
  }

  @keyframes slideInRight {
    from { opacity: 0; transform: translateX(2rem); }
    to { opacity: 1; transform: translateX(0); }
  }

  @keyframes slideInLeft {
    from { opacity: 0; transform: translateX(-2rem); }
    to { opacity: 1; transform: translateX(0); }
  }

  .question-text {
    font-size: 1.5rem;
    font-weight: 600;
    text-align: center;
    color: #0E2B47;
    margin-bottom: 2rem;
  }

  .question-options {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .option-btn {
    display: flex;
    align-items: center;
    gap: 1rem;
    width: 100%;
    padding: 1.25rem 1.5rem;
    text-align: left;
    border: 1px solid #e5e7eb;
    border-radius: 0.75rem;
    background: #fff;
    cursor: pointer;
    transition: border-color 0.2s, box-shadow 0.2s, background 0.2s;
  }

  .option-btn:hover {
    border-color: #2061B7;
    background: rgba(32, 97, 183, 0.03);
    box-shadow: 0 0 20px -8px rgba(32, 97, 183, 0.25);
  }

  .option-icon {
    width: 1.5rem;
    height: 1.5rem;
    color: #999;
    flex-shrink: 0;
    transition: color 0.2s;
  }

  .option-btn:hover .option-icon {
    color: #2061B7;
  }

  .option-label {
    flex: 1;
    font-size: 0.95rem;
    color: #333;
    font-weight: 500;
    transition: color 0.2s;
  }

  .option-btn:hover .option-label {
    color: #0E2B47;
  }

  .option-arrow {
    width: 1.25rem;
    height: 1.25rem;
    color: #ccc;
    flex-shrink: 0;
    transition: color 0.2s, transform 0.2s;
  }

  .option-btn:hover .option-arrow {
    color: #2061B7;
    transform: translateX(4px);
  }

  .back-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin: 2rem auto 0;
    padding: 0.5rem 1rem;
    background: none;
    border: none;
    color: #999;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: color 0.2s;
  }

  .back-btn:hover {
    color: #333;
  }

  /* Completion screen */
  .qualifier-complete {
    display: none;
    text-align: center;
  }

  .qualifier-complete.fade-in {
    animation: fadeIn 0.5s ease forwards;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }

  .complete-icon {
    width: 5rem;
    height: 5rem;
    margin: 0 auto 2rem;
    border-radius: 9999px;
    background: rgba(32, 97, 183, 0.1);
    border: 1px solid rgba(32, 97, 183, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #2061B7;
  }

  .qualifier-complete h3 {
    font-size: 2rem;
    font-weight: 700;
    color: #0E2B47;
    margin-bottom: 0.75rem;
  }

  .qualifier-complete p {
    font-size: 0.95rem;
    color: #666;
    max-width: 380px;
    margin: 0 auto 2rem;
  }

  .complete-actions {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: center;
  }

  .complete-actions .btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
  }

  .btn-reset {
    padding: 0.75rem 2rem;
    border-radius: 9999px;
    border: 1px solid #e5e7eb;
    background: none;
    color: #666;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: border-color 0.2s, color 0.2s;
  }

  .btn-reset:hover {
    border-color: #999;
    color: #333;
  }

  @media (min-width: 640px) {
    .complete-actions {
      flex-direction: row;
      justify-content: center;
    }
  }

  /* Form steps */
  .form-step {
    text-align: center;
  }

  .form-step.fade-in {
    animation: fadeIn 0.4s ease forwards;
  }

  .form-field {
    max-width: 440px;
    margin: 0 auto;
  }

  .form-input {
    width: 100%;
    padding: 1.125rem 1.5rem;
    font-size: 1.0625rem;
    border: 1px solid #e5e7eb;
    border-radius: 0.75rem;
    background: #fff;
    color: #0E2B47;
    outline: none;
    transition: border-color 0.2s, box-shadow 0.2s;
  }

  .form-input:focus {
    border-color: #2061B7;
    box-shadow: 0 0 0 3px rgba(32, 97, 183, 0.1);
  }

  .form-input::placeholder {
    color: #aaa;
  }

  .form-textarea {
    resize: vertical;
    min-height: 100px;
    line-height: 1.5;
  }

  .form-next-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: 1.5rem;
    padding: 0.875rem 2.5rem;
    background: #2061B7;
    color: #fff;
    border: none;
    border-radius: 9999px;
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    transition: background 0.2s, transform 0.2s;
  }

  .form-next-btn:hover {
    background: #184A8B;
    transform: scale(1.02);
  }

  /* Large submit button */
  .form-submit-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    width: 100%;
    max-width: 440px;
    margin: 0 auto;
    padding: 1.25rem 2.5rem;
    background: #2061B7;
    color: #fff;
    border: none;
    border-radius: 0.75rem;
    font-size: 1.25rem;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s, transform 0.2s;
  }

  .form-submit-btn:hover {
    background: #184A8B;
    transform: scale(1.02);
  }

  /* Thank you screen */
  .qualifier-thankyou {
    text-align: center;
  }

  .qualifier-thankyou.fade-in {
    animation: fadeIn 0.5s ease forwards;
  }

  .thankyou-icon {
    background: rgba(32, 97, 183, 0.1);
    border-color: rgba(32, 97, 183, 0.3);
    color: #2061B7;
  }

  .qualifier-thankyou h3 {
    font-size: 2rem;
    font-weight: 700;
    color: #0E2B47;
    margin-bottom: 0.75rem;
  }

  .qualifier-thankyou p {
    font-size: 0.95rem;
    color: #666;
    max-width: 420px;
    margin: 0 auto 2rem;
    line-height: 1.6;
  }

  .thankyou-links {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    max-width: 360px;
    margin: 0 auto;
  }

  .thankyou-link {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.875rem 1.25rem;
    background: #fff;
    border: 1px solid #e5e7eb;
    border-radius: 0.75rem;
    text-decoration: none;
    color: #0E2B47;
    font-size: 0.9375rem;
    font-weight: 500;
    transition: border-color 0.2s, box-shadow 0.2s;
  }

  .thankyou-link:hover {
    border-color: #2061B7;
    box-shadow: 0 0 20px -8px rgba(32, 97, 183, 0.25);
    color: #2061B7;
  }

  .thankyou-link svg {
    color: #ccc;
    transition: color 0.2s, transform 0.2s;
    flex-shrink: 0;
  }

  .thankyou-link:hover svg {
    color: #2061B7;
    transform: translateX(2px);
  }
</style>
